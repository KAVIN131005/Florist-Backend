
spring.application.name=backend

# MySQL Configuration for Railway
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# Build JDBC URL from Railway-provided values when available
# Falls back to localhost:3307/flower for local dev
spring.datasource.url=jdbc:mysql://${MYSQLHOST:localhost}:${MYSQLPORT:3307}/${MYSQLDATABASE:flower}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${MYSQLUSER:root}
spring.datasource.password=${MYSQLPASSWORD:Kavin@2005}

# HikariCP recommended settings (tunable via env vars)
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAX_POOL:10}
spring.datasource.hikari.minimum-idle=${HIKARI_MIN_IDLE:2}
spring.datasource.hikari.connection-timeout=${HIKARI_CONN_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.validation-timeout=${HIKARI_VALIDATION_TIMEOUT:5000}

# JPA Settings
# spring.jpa.show-sql=true
# spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Server Port (Railway will override with PORT env var)
server.port=${PORT:8080}


# --- JWT ---
# Use any random 32+ char string. Example (Linux/macOS): `openssl rand -hex 64`

logging.level.org.springframework.security=DEBUG

# --- JSON ---
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

# Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE


# Spring validation messages (optional but recommended)
spring.messages.basename=messages


spring.jpa.properties.hibernate.format_sql=true

# JWT
app.jwt.secret=${APP_JWT_SECRET:1XEr+3OcYxBMQmPbU4whr3vHbXOwNYeA7+QmxG6BbZsLtsYzmepgdvYXmKSH57JJHWLOFUznSKstgTmsXRNCdA==}
app.jwt.expiration-ms=${APP_JWT_EXPIRATION_MS:86400000}

# CORS
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:https://florist-frontend-phi.vercel.app,http://localhost:5173,http://localhost:5174}

# Razorpay (no HTTPS, no webhook)
razorpay.key.id=${RAZORPAY_KEY_ID:rzp_test_XD8mdRSpebRkBx}
razorpay.key.secret=${RAZORPAY_KEY_SECRET:mAvxGJVBHaECAdukHDfnrpVH}

# Admin seeder
app.admin.email=${APP_ADMIN_EMAIL:admin@florist.com}
app.admin.password=${APP_ADMIN_PASSWORD:Admin@123}
app.admin.name=${APP_ADMIN_NAME:Platform Admin}



# Database

# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true

# #





# # Spring Boot app name
# spring.application.name=backend

# # MySQL connection (Railway environment variables)
# spring.datasource.url=jdbc:mysql://${MYSQLHOST}:${MYSQLPORT}/${MYSQLDATABASE}
# spring.datasource.username=${MYSQLUSER}
# spring.datasource.password=${MYSQLPASSWORD}
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hibernate / JPA settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# # Server port (Railway auto-assigns, so keep 8080)
# server.port=8080

